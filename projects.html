<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Projects | UNEPP</title>
<meta name="description" content="UNEPP project portfolio across Egypt, MENA and international markets." />
<link rel="stylesheet" href="css/style.css" />
</head>

<body>

<header class="nav">
  <div class="container nav-inner">
    <a class="brand" href="index.html">
      <img src="assets/logo.png" alt="UNEPP logo" class="logo" />
      <div>
        <h1>UNEPP</h1>
        <small>United Engineers for Petroleum Projects</small>
      </div>
    </a>

    <nav class="menu">
      <a href="index.html">Home</a>
      <a href="about.html">About Us</a>
      <a href="capabilities.html">Capabilities</a>
      <a href="projects.html">Projects</a>
      <a href="news.html">News</a>
      <a href="careers.html">Career</a>
      <a class="cta" href="contact.html">Contact Us</a>
    </nav>
  </div>
</header>

<main class="container about-layout">

<!-- LEFT INDEX -->
<aside class="about-index">
  <b>Projects</b>
  <nav>
    <a href="#portfolio">Projects Portfolio</a>
    <a href="#showcase">Projects Showcase</a>
  </nav>
</aside>

<div class="about-content">

<!-- ========================= -->
<!-- PROJECTS PORTFOLIO -->
<!-- ========================= -->
<section class="section" id="portfolio">

<div class="section-intro">
<h2>Projects Portfolio</h2>
<p class="lead">
Explore UNEPP’s full historical project portfolio across regions and services.
</p>
</div>

<div class="card">

<div class="grid" style="grid-template-columns: 1fr 1fr 1fr 1fr 1fr; gap:12px;">

<select id="client">
<option value="">Client</option>
</select>

<select id="region">
<option value="">Region</option>
</select>

<select id="service">
<option value="">Service</option>
</select>

<select id="year">
<option value="">Year</option>
</select>

<button id="reset" class="btn">Reset</button>

</div>

</div>

<!-- PROJECT CARDS -->
<section class="section">
<div id="projectsGrid" class="projects-grid"></div>

<div id="emptyState" class="card" style="display:none; margin-top:14px;">
<h3>No matches</h3>
<p class="lead">Adjust filters or reset.</p>
</div>
</section>

</section>

<!-- ========================= -->
<!-- PROJECT SHOWCASE -->
<!-- ========================= -->
<section class="section" id="showcase">

<div class="section-intro">
<h2>Projects Showcase</h2>
<p class="lead">
Selected highlight projects will be presented here with detailed summaries and visuals.
</p>
</div>

<div class="card">
<p class="lead" style="margin:0;">
Coming soon – curated flagship project case studies.
</p>
</div>

</section>

</div>
</main>

<footer class="footer">
<div class="container">
© <span id="y"></span> United Engineers for Petroleum Projects (UNEPP)
</div>
</footer>

<script>
document.getElementById("y").textContent = new Date().getFullYear();

const els = {
client: document.getElementById("client"),
region: document.getElementById("region"),
service: document.getElementById("service"),
year: document.getElementById("year"),
reset: document.getElementById("reset"),
grid: document.getElementById("projectsGrid"),
empty: document.getElementById("emptyState")
};

let allProjects = [];

function uniqSorted(arr){
return [...new Set(arr.filter(Boolean))].sort((a,b)=>a.localeCompare(b));
}

function fillSelect(select, values){
select.innerHTML = '<option value="">All</option>' +
values.map(v=>`<option value="${v}">${v}</option>`).join("");
}



function applyFilters(){

const filtered = allProjects.filter(p=>{
if(els.client.value && p.Client !== els.client.value) return false;
if(els.region.value && p.Region !== els.region.value) return false;
if(els.service.value && p["Service-Main"] !== els.service.value) return false;
if(els.year.value && String(p.Year) !== els.year.value) return false;
return true;
});

render(filtered);
}

async function init(){

try{
const res = await fetch("data/projects.json",{cache:"no-store"});
const data = await res.json();
allProjects = data;

fillSelect(els.client, uniqSorted(allProjects.map(p=>p.Client)));
fillSelect(els.region, uniqSorted(allProjects.map(p=>p.Region)));
fillSelect(els.service, uniqSorted(allProjects.map(p=>p["Service-Main"])));
fillSelect(els.year, uniqSorted(allProjects.map(p=>String(p.Year))).reverse());

render(allProjects);

els.client.addEventListener("change",applyFilters);
els.region.addEventListener("change",applyFilters);
els.service.addEventListener("change",applyFilters);
els.year.addEventListener("change",applyFilters);

els.reset.addEventListener("click",()=>{
els.client.value="";
els.region.value="";
els.service.value="";
els.year.value="";
render(allProjects);
});

}catch(e){
console.error(e);
}
}

init();
</script>

</body>
</html>
